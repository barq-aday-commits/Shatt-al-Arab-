<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨ | Ø§Ù„Ù…Ù†ÙŠÙˆ Ø§Ù„Ø°ÙƒÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #cd7f32; --dark: #121212; --rust: #b7410e; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Tajawal', sans-serif; }
        body { background-color: #f9f9f9; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠ */
        .hero {
            height: 50vh;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1541529086526-db283c563270?w=1000');
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: white; text-align: center; padding: 20px;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠ - ÙŠØ­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªØ¯Ø§Ø®Ù„ */
        .cart-top-bar {
            position: sticky; top: 0; left: 0; width: 100%;
            background: var(--dark); color: white; padding: 12px 20px;
            display: none; justify-content: space-between; align-items: center;
            z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            border-bottom: 2px solid var(--gold);
        }

        /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£ÙƒÙ„Ø§Øª - ÙŠØ¶Ù…Ù† Ø§Ù„ØªØ±ØªÙŠØ¨ Ø­ØªÙ‰ Ù„Ùˆ ÙˆØµÙ„Øª Ù„Ù€ 100 Ø£ÙƒÙ„Ø© */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Ø·Ø¨Ù‚ÙŠÙ† ÙÙŠ ÙƒÙ„ Ø³Ø·Ø± Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            gap: 12px; padding: 20px; max-width: 1200px; margin: 0 auto;
        }

        .food-card {
            background: white; border-radius: 12px; overflow: hidden;
            border: 1px solid #eee; display: flex; flex-direction: column;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        .food-card img { width: 100%; height: 130px; object-fit: cover; }
        .food-info { padding: 10px; text-align: center; }
        .food-info h3 { font-size: 0.9rem; margin-bottom: 5px; }
        .price { color: var(--rust); font-weight: 800; display: block; margin-bottom: 8px; }

        .add-btn {
            background: var(--dark); color: var(--gold); border: 1px solid var(--gold);
            padding: 8px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%;
        }

        .order-now-btn { background: #25D366; color: white; border: none; padding: 8px 15px; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); display: none; z-index: 2000; justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 25px; border-radius: 15px; width: 90%; max-width: 380px; }
        .modal-content input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; }
    </style>
</head>
<body>

<section class="hero">
    <h1 style="font-size: 2.5rem; color: var(--gold);">Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨</h1>
    <p>Ø£Ø·ÙŠØ¨ Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠØ©</p>
</section>

<div class="cart-top-bar" id="cart-bar">
    <div style="font-size: 0.9rem;">
        ğŸ›’ <span id="count">0</span> | <span id="total" style="color: var(--gold); font-weight: bold;">0</span> Ø¯.Ø¹
    </div>
    <button class="order-now-btn" onclick="openModal()">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</button>
</div>

<h2 style="text-align: center; padding: 30px 0 10px; color: var(--rust);">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…</h2>

<div class="menu-grid" id="food-list">
    </div>

<div class="modal" id="order-modal">
    <div class="modal-content">
        <h3 style="text-align: center;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h3>
        <input type="text" id="user-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="tel" id="user-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <input type="text" id="user-addr" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
        <button class="order-now-btn" style="width: 100%; padding: 15px;" onclick="sendOrder()">Ø§Ø±Ø³Ø§Ù„ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button onclick="closeModal()" style="background:none; border:none; width:100%; margin-top:10px; color:grey;">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
</div>

<script>
const _k = '1laj-jG9Q18PIEkUivgsTG_iZN4nrbZsAnLu_9ZuMyk0'; // Ø¢ÙŠØ¯ÙŠ Ø§Ù„Ø´ÙŠØª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
const _u = `https://docs.google.com/spreadsheets/d/${_k}/gviz/tq?tqx=out:json`;
const waNum = "9647887603449"; // Ø±Ù‚Ù…Ùƒ Ù„Ù„ØªØ¬Ø±Ø¨Ø©

let cart = [];

fetch(_u).then(r => r.text()).then(d => {
    const j = JSON.parse(d.substring(47, d.length - 2));
    const rows = j.table.rows;
    const container = document.getElementById('food-list');
    container.innerHTML = '';

    for (let i = 1; i < rows.length; i++) {
        const c = rows[i].c;
        const item = { n: c[0] ? c[0].v : '', p: c[2] ? parseFloat(c[2].v) : 0, im: c[3] ? c[3].v : '' };
        if(item.n) {
            container.innerHTML += `
                <div class="food-card">
                    <img src="${item.im}">
                    <div class="food-info">
                        <h3>${item.n}</h3>
                        <span class="price">${item.p} Ø¯.Ø¹</span>
                        <button class="add-btn" onclick="add('${item.n}', ${item.p})">Ø§Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                    </div>
                </div>`;
        }
    }
});

function add(n, p) {
    cart.push({ n, p });
    const total = cart.reduce((s, i) => s + i.p, 0);
    document.getElementById('count').innerText = cart.length;
    document.getElementById('total').innerText = total;
    document.getElementById('cart-bar').style.display = 'flex';
}

function openModal() { document.getElementById('order-modal').style.display = 'flex'; }
function closeModal() { document.getElementById('order-modal').style.display = 'none'; }

function sendOrder() {
    const name = document.getElementById('user-name').value;
    const phone = document.getElementById('user-phone').value;
    const addr = document.getElementById('user-addr').value;
    const total = cart.reduce((s, i) => s + i.p, 0);

    if(!name || !phone || !addr) { alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); return; }

    let items = cart.map(i => `- ${i.n} (${i.p} Ø¯.Ø¹)`).join("\n");
    const msg = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯* ğŸ›’\n\n*Ø§Ù„Ø£ØµÙ†Ø§Ù:*\n${items}\n\n*Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:* ${total} Ø¯.Ø¹\n\n*Ø§Ù„Ø²Ø¨ÙˆÙ†:* ${name}\n*Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}\n*Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${addr}`;
    window.open(`https://wa.me/${waNum}?text=${encodeURIComponent(msg)}`);
    cart = []; document.getElementById('cart-bar').style.display = 'none'; closeModal();
}
</script>
</body>
</html>
